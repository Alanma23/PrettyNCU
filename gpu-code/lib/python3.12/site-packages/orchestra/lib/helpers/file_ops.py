"""File operations helper functions for Orchestra."""

from pathlib import Path

from orchestra.lib.logger import get_logger

logger = get_logger(__name__)

# Constants
SESSIONS_FILE = Path.home() / ".orchestra" / "sessions.json"


def ensure_orchestra_directory() -> Path:
    """Ensure the Orchestra directory exists."""
    orchestra_dir = Path.home() / ".orchestra"
    orchestra_dir.mkdir(parents=True, exist_ok=True)
    return orchestra_dir


def is_first_run() -> bool:
    """Check if this is the first run of Orchestra."""
    orchestra_dir = Path.home() / ".orchestra"

    # Check if directory exists and has any content
    if not orchestra_dir.exists():
        return True

    # Check if sessions file exists
    if not SESSIONS_FILE.exists():
        return True

    return False
